<h2>Customer Details</h2>

<div *ngIf="customer">
  <p><strong>ID:</strong> {{ customer.id }}</p>
  <p><strong>Name:</strong> {{ customer.name }}</p>
  <p><strong>customerNumber:</strong> {{ customer.customerNumber }}</p>
  <h3>Addresses</h3>
  <ul>
    <li *ngFor="let address of customer.addresses">
      {{ address.city }}, {{ address.street }}
    </li>
  </ul>
  <h3>Contacts</h3>
  <ul>
    <li *ngFor="let contact of customer.contacts">
      {{ contact.fullName }} - {{ contact.email }}
    </li>
  </ul>

  <!-- כפתור עריכה -->
  <button (click)="toggleEdit()">Edit</button>

  <!-- כפתור מחיקה -->
  <button (click)="deleteCustomer()" class="delete-btn">Delete</button>
  <button routerLink="/customers">Back to Customers</button>
</div>

<!-- טופס עריכה -->
<div *ngIf="isEditing">
  <h3>Edit Customer</h3>
  <form [formGroup]="editForm" (ngSubmit)="updateCustomer()">
    <label>Name: <input formControlName="name" /></label>
    <label>CustomerNumber: <input formControlName="customerNumber" /></label>
    <label>Addresses: <input formControlName="addresses" /></label>
    <label>Contacts: <input formControlName="contacts" /></label>
    <button type="submit">Update and Save</button>
  </form>
</div>

<div *ngIf="!customer">
  <p>Loading customer data...</p>
</div>
